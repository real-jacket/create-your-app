#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” éªŒè¯æäº¤..."

# æ£€æŸ¥æš‚å­˜åŒºæ˜¯å¦æœ‰æ–‡ä»¶
if git diff --cached --quiet ; then
  echo "âŒ æ²¡æœ‰æ–‡ä»¶è¢«æš‚å­˜ï¼Œè¯·å…ˆä½¿ç”¨ git add æ·»åŠ æ–‡ä»¶"
  exit 1
fi

# è¿è¡Œlint-staged
npx lint-staged

# è¿è¡Œç±»å‹æ£€æŸ¥
echo "ğŸ‘€ æ£€æŸ¥ç±»å‹..."
pnpm type-check

# å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸï¼Œå…è®¸æäº¤
echo "âœ… æäº¤éªŒè¯é€šè¿‡"
