import{_ as s,c as a,o as i,aj as n}from"./chunks/framework.CM7BdzdB.js";const F=JSON.parse('{"title":"Monorepo åº“æ¨¡æ¿","description":"","frontmatter":{},"headers":[],"relativePath":"templates/lib-monorepo.md","filePath":"templates/lib-monorepo.md"}'),p={name:"templates/lib-monorepo.md"},e=n(`<h1 id="monorepo-åº“æ¨¡æ¿" tabindex="-1">Monorepo åº“æ¨¡æ¿ <a class="header-anchor" href="#monorepo-åº“æ¨¡æ¿" aria-label="Permalink to &quot;Monorepo åº“æ¨¡æ¿&quot;">â€‹</a></h1><p>åŸºäº pnpm + TypeScript çš„ monorepo åº“æ¨¡æ¿ï¼Œç”¨äºåˆ›å»ºå’Œç®¡ç†å¤šåŒ… JavaScript/TypeScript åº“é¡¹ç›®ã€‚</p><h2 id="ç‰¹æ€§" tabindex="-1">ç‰¹æ€§ <a class="header-anchor" href="#ç‰¹æ€§" aria-label="Permalink to &quot;ç‰¹æ€§&quot;">â€‹</a></h2><ul><li>ğŸ“¦ åŸºäº pnpm workspace</li><li>ğŸ”„ ç»Ÿä¸€çš„æ„å»ºæµç¨‹</li><li>ğŸ“˜ TypeScript æ”¯æŒ</li><li>ğŸ§ª Jest æµ‹è¯•æ¡†æ¶</li><li>ğŸ“Š ä»£ç è¦†ç›–ç‡æŠ¥å‘Š</li><li>ğŸ“ ESLint + Prettier ä»£ç è§„èŒƒ</li><li>ğŸ“ è‡ªåŠ¨ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶</li><li>ğŸ”„ ç‰ˆæœ¬ç®¡ç†ï¼ˆChangesetsï¼‰</li><li>ğŸš€ CI/CD å·¥ä½œæµï¼ˆGitHub Actionsï¼‰</li><li>ğŸ“š æ–‡æ¡£ç«™ç‚¹ï¼ˆVitePressï¼‰</li></ul><h2 id="ä½¿ç”¨æ–¹æ³•" tabindex="-1">ä½¿ç”¨æ–¹æ³• <a class="header-anchor" href="#ä½¿ç”¨æ–¹æ³•" aria-label="Permalink to &quot;ä½¿ç”¨æ–¹æ³•&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»º monorepo åº“é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @rjkt/create-your-app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-lib-monorepo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @rjkt/cya-lib-monorepo-template</span></span></code></pre></div><h2 id="é¡¹ç›®ç»“æ„" tabindex="-1">é¡¹ç›®ç»“æ„ <a class="header-anchor" href="#é¡¹ç›®ç»“æ„" aria-label="Permalink to &quot;é¡¹ç›®ç»“æ„&quot;">â€‹</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>my-lib-monorepo/</span></span>
<span class="line"><span>  â”œâ”€â”€ .changeset/           # Changesets é…ç½®</span></span>
<span class="line"><span>  â”œâ”€â”€ .github/              # GitHub å·¥ä½œæµé…ç½®</span></span>
<span class="line"><span>  â”œâ”€â”€ docs/                 # æ–‡æ¡£</span></span>
<span class="line"><span>  â”‚   â”œâ”€â”€ .vitepress/       # VitePress é…ç½®</span></span>
<span class="line"><span>  â”‚   â””â”€â”€ index.md          # æ–‡æ¡£é¦–é¡µ</span></span>
<span class="line"><span>  â”œâ”€â”€ packages/             # å­åŒ…</span></span>
<span class="line"><span>  â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒåŒ…</span></span>
<span class="line"><span>  â”‚   â”‚   â”œâ”€â”€ src/          # æºä»£ç </span></span>
<span class="line"><span>  â”‚   â”‚   â”œâ”€â”€ tests/        # æµ‹è¯•</span></span>
<span class="line"><span>  â”‚   â”‚   â””â”€â”€ package.json  # åŒ…ä¿¡æ¯</span></span>
<span class="line"><span>  â”‚   â”œâ”€â”€ utils/            # å·¥å…·åŒ…</span></span>
<span class="line"><span>  â”‚   â”‚   â”œâ”€â”€ src/          # æºä»£ç </span></span>
<span class="line"><span>  â”‚   â”‚   â”œâ”€â”€ tests/        # æµ‹è¯•</span></span>
<span class="line"><span>  â”‚   â”‚   â””â”€â”€ package.json  # åŒ…ä¿¡æ¯</span></span>
<span class="line"><span>  â”‚   â””â”€â”€ template/         # å­åŒ…æ¨¡æ¿</span></span>
<span class="line"><span>  â”œâ”€â”€ .eslintrc.js          # ESLint é…ç½®</span></span>
<span class="line"><span>  â”œâ”€â”€ .prettierrc.js        # Prettier é…ç½®</span></span>
<span class="line"><span>  â”œâ”€â”€ jest.config.js        # Jest é…ç½®</span></span>
<span class="line"><span>  â”œâ”€â”€ tsconfig.json         # TypeScript é…ç½®</span></span>
<span class="line"><span>  â”œâ”€â”€ package.json          # æ ¹åŒ…ä¿¡æ¯</span></span>
<span class="line"><span>  â”œâ”€â”€ pnpm-workspace.yaml   # pnpm workspace é…ç½®</span></span>
<span class="line"><span>  â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜</span></span></code></pre></div><h2 id="å¯ç”¨è„šæœ¬" tabindex="-1">å¯ç”¨è„šæœ¬ <a class="header-anchor" href="#å¯ç”¨è„šæœ¬" aria-label="Permalink to &quot;å¯ç”¨è„šæœ¬&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ„å»ºæ‰€æœ‰åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¿è¡Œæµ‹è¯•</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä»£ç æ£€æŸ¥</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä»£ç æ ¼å¼åŒ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»ºå˜æ›´é›†</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changeset</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç‰ˆæœ¬æ›´æ–°</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version-packages</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å‘å¸ƒåŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¯åŠ¨æ–‡æ¡£å¼€å‘æœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ„å»ºæ–‡æ¡£</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:build</span></span></code></pre></div><h2 id="åˆ›å»ºæ–°åŒ…" tabindex="-1">åˆ›å»ºæ–°åŒ… <a class="header-anchor" href="#åˆ›å»ºæ–°åŒ…" aria-label="Permalink to &quot;åˆ›å»ºæ–°åŒ…&quot;">â€‹</a></h2><p>ä½ å¯ä»¥ä½¿ç”¨ Create Your App çš„åŒ…åˆ›å»ºåŠŸèƒ½ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @rjkt/create-your-app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-new-package</span></span></code></pre></div><p>æˆ–è€…æ‰‹åŠ¨å¤åˆ¶ <code>packages/template</code> ç›®å½•ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/template</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/my-new-package</span></span></code></pre></div><p>ç„¶åä¿®æ”¹ <code>packages/my-new-package/package.json</code> ä¸­çš„åŒ…åå’Œå…¶ä»–ä¿¡æ¯ã€‚</p><h2 id="ç‰ˆæœ¬ç®¡ç†" tabindex="-1">ç‰ˆæœ¬ç®¡ç† <a class="header-anchor" href="#ç‰ˆæœ¬ç®¡ç†" aria-label="Permalink to &quot;ç‰ˆæœ¬ç®¡ç†&quot;">â€‹</a></h2><p>è¯¥æ¨¡æ¿ä½¿ç”¨ Changesets è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»ºå˜æ›´é›†</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changeset</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ›´æ–°ç‰ˆæœ¬å·</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version-packages</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å‘å¸ƒåŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release</span></span></code></pre></div><h2 id="åŒ…é—´ä¾èµ–" tabindex="-1">åŒ…é—´ä¾èµ– <a class="header-anchor" href="#åŒ…é—´ä¾èµ–" aria-label="Permalink to &quot;åŒ…é—´ä¾èµ–&quot;">â€‹</a></h2><p>åœ¨å­åŒ…ä¹‹é—´æ·»åŠ ä¾èµ–ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœ¨ utils åŒ…ä¸­æ·»åŠ å¯¹ core åŒ…çš„ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/utils</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @my-scope/core@workspace:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre></div><h2 id="ci-cd-å·¥ä½œæµ" tabindex="-1">CI/CD å·¥ä½œæµ <a class="header-anchor" href="#ci-cd-å·¥ä½œæµ" aria-label="Permalink to &quot;CI/CD å·¥ä½œæµ&quot;">â€‹</a></h2><p>è¯¥æ¨¡æ¿åŒ…å«ä»¥ä¸‹ GitHub Actions å·¥ä½œæµï¼š</p><ul><li><strong>CI</strong>ï¼šåœ¨ Pull Request æ—¶è¿è¡Œæµ‹è¯•å’Œæ„å»º</li><li><strong>Release</strong>ï¼šåœ¨åˆå¹¶åˆ°ä¸»åˆ†æ”¯æ—¶å‘å¸ƒåŒ…</li><li><strong>Docs</strong>ï¼šåœ¨åˆå¹¶åˆ°ä¸»åˆ†æ”¯æ—¶æ„å»ºå’Œéƒ¨ç½²æ–‡æ¡£</li></ul><h2 id="è‡ªå®šä¹‰é…ç½®" tabindex="-1">è‡ªå®šä¹‰é…ç½® <a class="header-anchor" href="#è‡ªå®šä¹‰é…ç½®" aria-label="Permalink to &quot;è‡ªå®šä¹‰é…ç½®&quot;">â€‹</a></h2><h3 id="pnpm-é…ç½®" tabindex="-1">pnpm é…ç½® <a class="header-anchor" href="#pnpm-é…ç½®" aria-label="Permalink to &quot;pnpm é…ç½®&quot;">â€‹</a></h3><p>ä½ å¯ä»¥åœ¨ <code>pnpm-workspace.yaml</code> æ–‡ä»¶ä¸­ä¿®æ”¹ workspace é…ç½®ã€‚</p><h3 id="typescript-é…ç½®" tabindex="-1">TypeScript é…ç½® <a class="header-anchor" href="#typescript-é…ç½®" aria-label="Permalink to &quot;TypeScript é…ç½®&quot;">â€‹</a></h3><p>ä½ å¯ä»¥åœ¨æ ¹ç›®å½•çš„ <code>tsconfig.json</code> å’Œå„ä¸ªåŒ…ä¸­çš„ <code>tsconfig.json</code> æ–‡ä»¶ä¸­ä¿®æ”¹ TypeScript é…ç½®ã€‚</p><h3 id="eslint-é…ç½®" tabindex="-1">ESLint é…ç½® <a class="header-anchor" href="#eslint-é…ç½®" aria-label="Permalink to &quot;ESLint é…ç½®&quot;">â€‹</a></h3><p>ä½ å¯ä»¥åœ¨ <code>.eslintrc.js</code> æ–‡ä»¶ä¸­ä¿®æ”¹ ESLint é…ç½®ã€‚</p><h3 id="prettier-é…ç½®" tabindex="-1">Prettier é…ç½® <a class="header-anchor" href="#prettier-é…ç½®" aria-label="Permalink to &quot;Prettier é…ç½®&quot;">â€‹</a></h3><p>ä½ å¯ä»¥åœ¨ <code>.prettierrc.js</code> æ–‡ä»¶ä¸­ä¿®æ”¹ Prettier é…ç½®ã€‚</p><h3 id="jest-é…ç½®" tabindex="-1">Jest é…ç½® <a class="header-anchor" href="#jest-é…ç½®" aria-label="Permalink to &quot;Jest é…ç½®&quot;">â€‹</a></h3><p>ä½ å¯ä»¥åœ¨ <code>jest.config.js</code> æ–‡ä»¶ä¸­ä¿®æ”¹ Jest é…ç½®ã€‚</p><h2 id="æ–‡æ¡£" tabindex="-1">æ–‡æ¡£ <a class="header-anchor" href="#æ–‡æ¡£" aria-label="Permalink to &quot;æ–‡æ¡£&quot;">â€‹</a></h2><p>è¯¥æ¨¡æ¿ä½¿ç”¨ VitePress æ„å»ºæ–‡æ¡£ç«™ç‚¹ï¼Œæ–‡æ¡£æºæ–‡ä»¶ä½äº <code>docs</code> ç›®å½•ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¯åŠ¨æ–‡æ¡£å¼€å‘æœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ„å»ºæ–‡æ¡£</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:build</span></span></code></pre></div>`,39),l=[e];function t(h,k,c,r,o,d){return i(),a("div",null,l)}const y=s(p,[["render",t]]);export{F as __pageData,y as default};
